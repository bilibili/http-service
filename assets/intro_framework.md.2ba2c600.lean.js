import{d as I,h as r,g as $,o as u,c as d,k as s,n as b,N as v,F as D,C as A,a0 as q,a1 as P,t as N,B as L,a as k,G as w,Q as B}from"./chunks/framework.dab116c3.js";const M="/bili-utils/unify-http-request/assets/wp.d6208a21.svg",R="/bili-utils/unify-http-request/assets/onion.e8e8ff24.webp",V={class:"framework-experience"},H=["onMouseenter","title"],O={class:"fe-onion-layer-name"},W={class:"fe-console"},z=s("div",{class:"fe-console-header"},"terminal",-1),J={class:"fe-console-content"},K=["innerHTML"],F=100,j=I({__name:"FrameworkExperience",setup(E){const x=r([]),l=$(()=>{const a=[{name:"Retry",builtin:!0},{name:"Init Context",builtin:!0},...x.value,{name:"Res Data",builtin:!0},{name:"Body",builtin:!0},{name:"Timeout",builtin:!0},{name:"Fetch",builtin:!0}],t=["rgb(75, 0, 130)","rgb(109, 0, 137)","rgb(141, 0, 142)","rgb(171, 0, 146)","rgb(200, 0, 147)","rgb(228, 0, 148)"];return a.map((e,n)=>Object.assign(e,{color:t[n]}))}),o=r(-1);function T(a){if(y.value)return{width:F+"px",height:"300px",left:(F+20)*a+"px",top:0};const t=l.value.length,e=(t-a)/t;return{zIndex:a,transform:"translate(-50%, -50%)",width:e*600+"px",height:e*500+"px"}}function S(a){const t=o.value===a;return{backgroundColor:l.value[a].color,transform:`scale(${t?1.05:1}) `,borderRadius:y.value?"8px":""}}const y=r(!1),g=a=>new Promise(t=>{setTimeout(()=>{t(!0)},a*1e3)});function _(a,t){const{name:e,color:n}=a;return e==="Fetch"&&(t==="before"?t="start":t="done"),`[<em style="color:${n}">${e}</em>]request ${t}`}async function C(){h.value=0,m.value=0,f.value=0,c.value=[],await g(0),y.value=!0,i.value=!0;const a=l.value.length,t=F+20;h.value=a*t-20;let e=0;o.value=e,c.value.push(_(l.value[e],"before"));let n=setInterval(()=>{e++,c.value.push(_(l.value[e],"before")),o.value=e},500);await g(2.7),clearInterval(n),m.value=120,await g(1.2),f.value=a*t-20,c.value.push(_(l.value[e],"after")),n=setInterval(()=>{c.value.push(_(l.value[e],"after")),e--,o.value=e},500),await g(3),clearInterval(n),i.value=!1,o.value=-1}const h=r(0),m=r(0),f=r(0),i=r(!1),c=r([]),p=r(["linear-gradient(90deg, rgb(0, 191, 255), rgb(0, 177, 255))","linear-gradient(rgb(0, 177, 255), rgb(0, 161, 255))","linear-gradient(270deg, rgb(0, 161, 255), rgb(30, 144, 255))"]);return(a,t)=>(u(),d("div",V,[s("div",{class:"fe-try",onClick:C},"Try it!"),s("div",{class:"fe-onion",onMouseleave:t[0]||(t[0]=e=>o.value=-1)},[s("div",{class:b(["fe-onion-line1",i.value&&"animating"]),style:v({top:"80px",height:"20px",width:h.value+"px",backgroundImage:`linear-gradient(90deg, ${p.value[0]},${p.value[1]})`})},null,6),s("div",{class:b(["fe-onion-line2",i.value&&"animating"]),style:v({left:h.value-20+"px",width:"20px",top:"100px",height:m.value+"px",backgroundImage:`linear-gradient(180deg,${p.value[1]},${p.value[2]})`})},null,6),s("div",{class:b(["fe-onion-line3",i.value&&"animating"]),style:v({right:600-h.value+20+"px",width:f.value?f.value-20+"px":"",height:"20px",top:80+m.value+"px",backgroundImage:`linear-gradient(270deg,${p.value[2]},${p.value[3]})`})},null,6),(u(!0),d(D,null,A(l.value,(e,n)=>(u(),d("div",{class:"fe-onion-layer",onMouseenter:()=>{i.value||(o.value=n)},key:e.name,title:e.name,style:v(T(n))},[s("div",{class:"fe-onion-layer-halo",style:v(S(n))},null,4),s("div",O,N(e.name),1)],44,H))),128))],32),q(s("div",W,[z,s("div",J,[(u(!0),d(D,null,A(c.value,(e,n)=>(u(),d("div",{class:"fe-console-line",key:n,innerHTML:e},null,8,K))),128))])],512),[[P,y.value]])]))}});const G={id:"框架设计",tabindex:"-1"},Q=s("a",{class:"header-anchor",href:"#框架设计","aria-label":'Permalink to "框架设计 <Badge type="tip" text="概念介绍" />"'},"​",-1),U=B("",4),X=B("",16),ee=JSON.parse('{"title":"框架设计","description":"","frontmatter":{},"headers":[],"relativePath":"intro/framework.md","filePath":"intro/framework.md"}'),Y={name:"intro/framework.md"},te=Object.assign(Y,{setup(E){return(x,l)=>{const o=L("Badge");return u(),d("div",null,[s("h1",G,[k("框架设计 "),w(o,{type:"tip",text:"概念介绍"}),k(),Q]),U,w(j),X])}}});export{ee as __pageData,te as default};
